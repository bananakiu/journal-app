<%# TODO: update task.complete when pressed %>
<%# TODO: sort by due date %>

<div class="
flex items-center justify-
h-14 px-4 mb-4
rounded-lg
bg-gray-700
shadow-md hover:shadow-xl
<%= "text-gray-500 line-through" if task.complete %>
transition duration
">
    <%# completion status %>
    <div class="
    flex items-center justify-start
    w-1/2 lg:w-1/4
    cursor-default
    ">
        <input type="checkbox" class="w-4 h-4 mr-3" <%= "checked" if task.complete %>>
        <%= task.name %>
    </div>

    <div class="
    hidden lg:flex justify-center items-center
    w-1/2
    cursor-default
    has-tooltip
    <%= "text-gray-500" if task.date.nil? %>
    ">
        <% if !task.date.nil? %>
            <i class="far fa-calendar text-xl mr-2"></i> <%= task.date.strftime("%B %d, %Y") %>
            <%= render 'shared/tooltip', msg: task.date.strftime("%B %d, %Y"), classes: "-mt-16" %>
        <% else %>
            <i class="far fa-calendar-times text-xl mr-2"></i> No date
        <% end %>
    </div>

    <%# navigation %>
    <div class="flex-grow flex justify-end">
        <a href=<%= category_task_path(@category, task.id) %> class="
        h-full mr-5 text-xl
        text-green-400 hover:text-green-500
        has-tooltip
        ">
            <i class="fas fa-expand-arrows-alt"></i>
            <%= render 'shared/tooltip', msg: "Expand", classes: "-ml-12" %>
        </a>
        <a href=<%= edit_category_task_path(@category, task.id) %> class="
        h-full mr-4 text-xl
        text-blue-400 hover:text-blue-500
        has-tooltip
        ">
            <i class="far fa-edit"></i>
            <%= render 'shared/tooltip', msg: "Edit", classes: "-ml-10" %>
        </a>
        <%# TODO: add tooltip for delete %>
        <%=
            link_to raw("<i class\=\"far fa-trash-alt\"></i>"),
                [task.category, task],
                method: :delete,
                data: { confirm: "Are you sure?" },
                class: "
                h-full text-xl
                text-red-400 hover:text-red-500
                "
        %>
    </div>
</div>